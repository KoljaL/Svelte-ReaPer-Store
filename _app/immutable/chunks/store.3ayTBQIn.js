import{n as t,a as b,f,m as o,g as a,h as l}from"./runtime.BuXBzAlP.js";function d(s,u,e){if(s==null)return u(void 0),t;const n=b(()=>s.subscribe(u,e));return n.unsubscribe?()=>n.unsubscribe():n}let r=!1;function _(s,u,e){const n=e[u]??(e[u]={store:null,source:o(void 0),unsubscribe:t});if(n.store!==s)if(n.unsubscribe(),n.store=s??null,s==null)n.source.v=void 0,n.unsubscribe=t;else{var i=!0;n.unsubscribe=d(s,c=>{i?n.source.v=c:l(n.source,c)}),i=!1}return a(n.source)}function g(s,u){return s.set(u),u}function v(){const s={};return f(()=>{for(var u in s)s[u].unsubscribe()}),s}function y(s,u,e=1){return s.set(u+e),u}function w(s){var u=r;try{return r=!1,[s(),r]}finally{r=u}}export{g as a,_ as b,w as c,v as s,y as u};
