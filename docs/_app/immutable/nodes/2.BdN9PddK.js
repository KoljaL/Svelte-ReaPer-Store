import{a as F,t as K,d as qe}from"../chunks/disclose-version.C1eOiaso.js";import{i as we}from"../chunks/legacy.COOkUfkb.js";import{X as Ae,b as ke,h as $,g as L,d as Se,Z as Ie,V as fe,H as $e,e as le,i as X,m as H,_ as U,j as ce,k as _e,l as Te,Y as ve,$ as Me,a0 as Ce,T as De,a1 as Re,a2 as He,M as Ne,Q as Pe,a3 as Ue,A as Oe,a4 as oe,a5 as Be,a6 as Ve,a7 as We,O as Ye,p as Fe,a8 as J,s as A,f as Le,B as k,t as Q,a as Xe,C as j,c as h,J as Z,r as d}from"../chunks/runtime.9jOrjJ9T.js";import{s as C}from"../chunks/render.C2Z0vV_K.js";import{i as Je}from"../chunks/if.D5tOT7hu.js";import{s as Qe,a as z}from"../chunks/store.BaQrDNa2.js";import{r as G,R as N}from"../chunks/ReaPerStore.B84B_HlC.js";function Ze(i,e){return e}function ze(i,e,t,v){for(var _=[],o=e.length,l=0;l<o;l++)Ce(e[l].e,_,!0);var b=o>0&&_.length===0&&t!==null;if(b){var p=t.parentNode;De(p),p.append(t),v.clear(),I(i,e[0].prev,e[o-1].next)}Re(_,()=>{for(var f=0;f<o;f++){var x=e[f];b||(v.delete(x.k),I(i,x.prev,x.next)),He(x.e,!b)}})}function Ge(i,e,t,v,_,o=null){var l=i,b={flags:e,items:new Map,first:null};{var p=i;l=$?L(Ne(p)):p.appendChild(Ae())}$&&Se();var f=null,x=!1;ke(()=>{var r=t(),c=Ie(r)?r:r==null?[]:fe(r),a=c.length;if(x&&a===0)return;x=a===0;let n=!1;if($){var g=l.data===$e;g!==(a===0)&&(l=le(),L(l),X(!1),n=!0)}if($){for(var w=null,E,s=0;s<a;s++){if(H.nodeType===8&&H.data===Pe){l=H,n=!0,X(!1);break}var m=c[s],T=v(m,s);E=de(H,b,w,null,m,T,s,_,e),b.items.set(T,E),w=E}a>0&&L(le())}if(!$){var S=Ue;Ke(c,b,l,_,e,(S.f&U)!==0,v)}o!==null&&(a===0?f?ce(f):f=_e(()=>o(l)):f!==null&&Te(f,()=>{f=null})),n&&X(!0),t()}),$&&(l=H)}function Ke(i,e,t,v,_,o,l,b){var p=i.length,f=e.items,x=e.first,r=x,c,a=null,n=[],g=[],w,E,s,m;for(m=0;m<p;m+=1){if(w=i[m],E=l(w,m),s=f.get(E),s===void 0){var T=r?r.e.nodes_start:t;a=de(T,e,a,a===null?e.first:a.next,w,E,m,v,_),f.set(E,a),n=[],g=[],r=a.next;continue}if(je(s,w,m),s.e.f&U&&ce(s.e),s!==r){if(c!==void 0&&c.has(s)){if(n.length<g.length){var S=g[0],q;a=S.prev;var D=n[0],M=n[n.length-1];for(q=0;q<n.length;q+=1)ue(n[q],S,t);for(q=0;q<g.length;q+=1)c.delete(g[q]);I(e,D.prev,M.next),I(e,a,D),I(e,M,S),r=S,a=M,m-=1,n=[],g=[]}else c.delete(s),ue(s,r,t),I(e,s.prev,s.next),I(e,s,a===null?e.first:a.next),I(e,a,s),a=s;continue}for(n=[],g=[];r!==null&&r.k!==E;)(o||!(r.e.f&U))&&(c??(c=new Set)).add(r),g.push(r),r=r.next;if(r===null)continue;s=r}n.push(s),a=s,r=s.next}if(r!==null||c!==void 0){for(var R=c===void 0?[]:fe(c);r!==null;)(o||!(r.e.f&U))&&R.push(r),r=r.next;var O=R.length;if(O>0){var P=p===0?t:null;ze(e,R,P,f)}}ve.first=e.first&&e.first.e,ve.last=a&&a.e}function je(i,e,t,v){Me(i.v,e),i.i=t}function de(i,e,t,v,_,o,l,b,p,f){var x=(p&Ve)!==0,r=(p&We)===0,c=x?r?Oe(_):oe(_):_,a=p&Be?oe(l):l,n={i:a,v:c,k:o,a:null,e:null,prev:t,next:v};try{return n.e=_e(()=>b(i,c,a),$),n.e.prev=t&&t.e,n.e.next=v&&v.e,t===null?e.first=n:(t.next=n,t.e.next=n.e),v!==null&&(v.prev=n,v.e.prev=n.e),n}finally{}}function ue(i,e,t){for(var v=i.next?i.next.e.nodes_start:t,_=e?e.e.nodes_start:t,o=i.e.nodes_start;o!==v;){var l=Ye(o);_.before(o),o=l}}function I(i,e,t){e===null?i.first=t:(e.next=t,e.e.next=t&&t.e),t!==null&&(t.prev=e,t.e.prev=e&&e.e)}function et(i,e){const t=i.target.files[0];t&&j(e,t)}function tt(i,e,t){N.importFromFile(k(e)),console.log(k(e)),j(t,"Data imported successfully")}var rt=K("<li><strong> </strong> </li>"),at=()=>{N.exportWithPrefix()},nt=K("<button> </button>"),st=K('<h3>Manage Multiple Entries with the Same Prefix</h3> <div class="row svelte-q9wniq"><div class="left svelte-q9wniq"><div class="entry svelte-q9wniq"><p> <button class="inline">Increase Age</button></p></div> <div class="entry svelte-q9wniq"><p> <button class="inline">Increase Age</button></p></div> <div class="entry svelte-q9wniq"><p> <button class="inline">Increase Age</button></p></div></div> <div class="right svelte-q9wniq"><ul></ul></div></div> <hr> <h3>Export & Import</h3> <div class="row svelte-q9wniq"><div class="left svelte-q9wniq"><button>Export Data</button></div> <div class="right svelte-q9wniq"><input type="file" accept=".json"> <!></div></div>',1);function _t(i,e){Fe(e,!1);const t=Qe(),v=()=>z(l,"$userStore1",t),_=()=>z(b,"$userStore2",t),o=()=>z(p,"$userStore3",t);N.setPrefix("myApp:");const l=G("user:1",{name:"Alice",age:25}),b=G("user:2",{name:"Bob",age:30}),p=G("user:3",{name:"Charlie",age:35});let f=J(N.getEntriesWithPrefix());const x=()=>{j(f,N.getEntriesWithPrefix())};function r(y){return()=>{y.update(u=>(u.age++,u)),x()}}let c=J("Import Data"),a=J(!1);we();var n=st(),g=A(Le(n),2),w=h(g),E=h(w),s=h(E),m=h(s),T=A(m),S=Z(()=>r(l));T.__click=function(...y){var u;(u=k(S))==null||u.apply(this,y)},d(s),d(E);var q=A(E,2),D=h(q),M=h(D),R=A(M),O=Z(()=>r(b));R.__click=function(...y){var u;(u=k(O))==null||u.apply(this,y)},d(D),d(q);var P=A(q,2),ee=h(P),te=h(ee),pe=A(te),he=Z(()=>r(p));pe.__click=function(...y){var u;(u=k(he))==null||u.apply(this,y)},d(ee),d(P),d(w);var re=A(w,2),ae=h(re);Ge(ae,5,()=>Object.entries(k(f)),Ze,(y,u)=>{let V=()=>k(u)[0],xe=()=>k(u)[1];var W=rt(),Y=h(W),Ee=h(Y,!0);d(Y);var ye=A(Y);d(W),Q(()=>{C(Ee,V()),C(ye,`: ${xe()??""}`)}),F(y,W)}),d(ae),d(re),d(g);var ne=A(g,6),B=h(ne),ge=h(B);ge.__click=[at],d(B);var se=A(B,2),ie=h(se);ie.__change=[et,a];var me=A(ie,2);{var be=y=>{var u=nt();u.__click=[tt,a,c];var V=h(u,!0);d(u),Q(()=>C(V,k(c))),F(y,u)};Je(me,y=>{k(a)&&y(be)})}d(se),d(ne),Q(()=>{C(m,`User 1: ${v().name??""}, Age: ${v().age??""} `),C(M,`User 2: ${_().name??""}, Age: ${_().age??""} `),C(te,`User 3: ${o().name??""}, Age: ${o().age??""} `)}),F(i,n),Xe()}qe(["click","change"]);export{_t as component};
